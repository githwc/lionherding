<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LionHerding</title>
    <link rel="stylesheet" href="login/css/style.css">
</head>

<body>
<!--<p class="center">登录用户名为：admin，密码为admin</p>-->
<!--<p class="center">在用户名和密码错误时，点击登录按钮可以看到表单的摇晃效果。</p>-->
<div id="wrapper" class="login-page">
    <div id="login_form" class="form">
        <form id="registerForm" class="register-form" th:action="@{/user/register}" method="post">
            <input type="text" placeholder="请输入登录名" id="loginName" name="loginName" required/>
            <input type="password" placeholder="请输入密码" id="pwd" name="password" required/>
            <input type="password" placeholder="请确认密码" id="confimPassword" name="confimPassword" required/>
            <input type="text" placeholder="请输入电子邮件" id="email" name="email"/>
            <button id="create" type="submit">创建账户</button>
            <p class="message">已经有了一个账户? <a href="#">立刻登录</a></p>
        </form>
        <form id="loginForm" class="login-form" th:action="@{/user/login}" method="post">
            <input type="text" placeholder="请输入登录名" id="login_loginName" name="login_loginName" required/>
            <input type="password" placeholder="请输入密码" id="login_password" name="login_password" required/>
            <button id="login" type="submit">登　录</button>
            <p class="message">还没有账户? <a href="#">立刻创建</a></p>
        </form>
    </div>
</div>
<script th:src="@{/common/js/jquery-2.1.1.min.js}"></script>
<script th:src="@{/common/js/additional-methods.min.js}"></script>
<script th:src="@{/common/js/jquery.validate.min.js}"></script>
<script th:src="@{/common/js/messages_zh.min.js}"></script>
<script th:src="@{/common/js/jquery.md5.js}"></script>
<script type="text/javascript">
    //jquery validate 验证用户自行注册
    $("#registerForm").validate({
        rules:{
            password:{
                required:true,
                minlength:4,
                maxlength:6,
            },
            confimPassword:{
                equalTo:"#pwd"
            }
        }
    })

    //Jquery validate 验证用户登录
    $("#loginForm").validate({
        rules:{

        }
    })

    function check_login() {
        var name = $("#loginName").val();
        var pass = $("#pwd").val();
        if (name == "admin" && pass == "admin") {
            alert("登录成功！");
            $("#loginName").val("");
            $("#pwd").val("");
        } else {
            $("#login_form").removeClass('shake_effect');
            setTimeout(function () {
                $("#login_form").addClass('shake_effect')
            }, 1);
        }
    }

    function check_register() {
        var name = $("#loginName").val();
        var pass = $("#pwd").val();
        var email = $("r_email").val();
        if (name != "" && pass == "" && email != "") {
            alert("注册成功！");
            $("#loginName").val("");
            $("#pwd").val("");
        } else {
            $("#login_form").removeClass('shake_effect');
            setTimeout(function () {
                $("#login_form").addClass('shake_effect')
            }, 1);
        }
    }

    $(function () {
        // $("#create").click(function(){
        //     check_register();
        //     return false;
        // })
        // $("#login").click(function(){
        //     check_login();
        //     return false;
        // })
        $('.message a').click(function () {
            $('form').animate({
                height: 'toggle',
                opacity: 'toggle'
            }, 'slow');
        });
    })
</script>
</body>
</html>