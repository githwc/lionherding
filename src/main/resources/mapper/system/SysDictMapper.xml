<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lh.system.mapper.SysDictMapper">

    <select id="dictTree" resultType="com.lh.common.tree.TreeNode">
        select
            sys_dict_id as id,
            parent_id as parentId,
            key_word as title,
            sort as order_num
        from sys_dict
        where
            del_flag = 0
        <if test="keyWord != null and keyWord != '' ">
            and key_word like concat ('%',#{keyWord},'%')
        </if>
        order by sort
    </select>

    <select id="childrenDict" resultType="com.lh.system.entity.SysDict">
        select
            sd.*
        from sys_dict sd
        where
            sd.del_flag = 0
        and sd.parent_id = #{query.parentId}
        <if test="query.keyWord != null and query.keyWord != '' ">
            and sd.key_word like concat ('%',#{query.keyWord},'%')
        </if>
        order by sd.sort,sd.create_time desc
    </select>


</mapper>
